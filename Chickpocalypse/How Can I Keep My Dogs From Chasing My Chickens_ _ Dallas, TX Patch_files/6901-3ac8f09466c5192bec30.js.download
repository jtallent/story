(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6901],{75750:function(e,t){"use strict";var n;!function(e){e.collapsed="collapsed",e.disabled="disabled",e.error="error",e.idle="idle",e.pending="pending",e.preview="preview",e.waitingForInViewToFetch="waitingForInViewToFetch"}(n||(n={})),t.Z=n},55045:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var a=n(32292),r=n(67294),o=n(21974),i=n(5332),c=n(11570);var s=function(){return(0,r.useContext)(c.st)},l=n(16134);function u(e,t){var n=(0,l.Z)({},!1),c=(0,a.Z)(n,3),u=c[0],d=c[1],p=c[2],f=(0,r.useContext)(o.ZP).patch,_=s();return(0,r.useEffect)((function(){var n;p&&i.il.includes(null===e||void 0===e?void 0:e.type)&&t&&_({type:e.type,id:e.id,patchId:null===f||void 0===f?void 0:f.id,regionId:null===f||void 0===f?void 0:f.region.id,promotedLevel:null===e||void 0===e?void 0:e.promoted,authorId:null===e||void 0===e||null===(n=e.author)||void 0===n?void 0:n.id,location:t})}),[p]),[u,d]}},44534:function(e,t,n){"use strict";var a=n(85893),r=n(50141),o=n(56667),i=n(93509),c=n(48053),s=n.n(c);t.Z=function(e){var t=e.action,n=e.gaCategory,c=e.gaLabel,l=e.href,u=e.label;return l?(0,a.jsx)(r.Z.Item,{as:"li",children:(0,a.jsx)(o.Z,{className:s().OptionsMenu__link,gaCategory:n,gaLabel:c,href:l,children:(0,a.jsx)("span",{children:u})})}):t?(0,a.jsx)(r.Z.Item,{as:"li",children:(0,a.jsx)("button",{className:s().OptionsMenu__link,onClick:function(){(0,i.Z)("click",n,c),t()},type:"button",children:u})}):null}},83027:function(e,t,n){"use strict";var a=n(85893),r=n(94184),o=n.n(r),i=n(48053),c=n.n(i);t.Z=function(){return(0,a.jsx)("div",{"aria-label":"options",className:o()([c().OptionsMenu__Button,c()["OptionsMenu__Button--options"]]),children:(0,a.jsx)("span",{className:c().OptionsMenu__Icon,children:(0,a.jsx)("i",{className:"fas fa fa-ellipsis-h"})})})}},72929:function(e,t,n){"use strict";var a=n(85893),r=n(26265),o=n(50141),i=n(94184),c=n.n(i),s=n(48053),l=n.n(s);t.Z=function(e){var t=e.id,n=e.label,i=e.contentType,s=e.active,u=e.onClick,d=e.indentedLabel,p=void 0!==d&&d;return(0,a.jsxs)(o.Z.Item,{as:"li",onClick:u,className:c()([l().OptionsMenu__link,l()["OptionsMenu__link--toggle"],(0,r.Z)({},l()["OptionsMenu__link--indented"],p)]),children:[(0,a.jsx)("span",{className:c()([(0,r.Z)({},l()["OptionsMenu__link--indentedText"],p)]),children:n}),(0,a.jsx)("i",{className:c()([s?"fa fa-check-square":"fal fa fa-square"])})]},"".concat(t,":").concat(i))}},65551:function(e,t,n){"use strict";n.d(t,{X:function(){return a.Z},$:function(){return r.Z}});var a=n(44534),r=n(72929)},128:function(e,t,n){"use strict";var a=n(93509);t.Z=function(e){(0,a.Z)("click",e,"ellipses_menu")}},20562:function(e,t,n){"use strict";n.d(t,{XB:function(){return a},Y4:function(){return r}});var a,r,o=n(98707);!function(e){e.edit="edit",e.showReplies="showReplies"}(a||(a={})),function(e){e.edit="Edit",e.showReplies="Show replies"}(r||(r={}));t.ZP=function(e,t,n){var a=e===t,r=(0,o.isStaff)(n),i={edit:a||r,showReplies:r};return Object.keys(i).filter((function(e){return i[e]}))}},96773:function(e,t,n){"use strict";n.d(t,{Z:function(){return S}});var a,r=n(85893),o=n(809),i=n.n(o),c=n(92447),s=n(50141),l=n(3072),u=n(80045),d=n(67294),p=n(11163),f=n(56647),_=n(79737),h=n(73664),g=n(92618),m=n(65551),y=n(43094),x=function(e){var t=e.id,n=e.contentType,a=e.allowReplies,o=(0,p.useRouter)(),s=(0,d.useState)(a),l=s[0],u=s[1],x=(0,_.Z)(),Z=x.authenticate,v=x.handleExpiredSession,b=function(){var e=(0,c.Z)(i().mark((function e(){var n,a,r,c,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(!l),e.next=4,h.Z.togglePostAllowReplies(t,l);case 4:n=e.sent,a=n.data.data,r=a.patch_jwt,Z(r),(0,g.Z)({type:"success",message:"Successfully ".concat(l?"disabled":"enabled"," replies!")}),o.reload(),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(0),c=e.t0.message,s=e.t0.status,u(l),s===f.W.UNAUTHORIZED?(v(),(0,g.Z)({message:c,type:"danger"})):(0,g.Z)({message:"Unable to ".concat(l?"disable":"enable"," replies"),type:"danger"});case 17:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();return(0,r.jsx)(m.$,{id:t,contentType:n,label:y.Y4.allowPostReplies,active:l,onClick:b})},Z=function(e){var t=e.contentType,n=e.id,a=e.onClick;return(0,r.jsx)(m.X,{gaCategory:t,gaLabel:"edit_category_button",action:a,label:y.Y4.changePostCategory},"changeCategory:".concat(n))},v=n(93509),b=function(e){var t=e.contentType,n=e.patchAlias,a=e.onDelete,o=(0,p.useRouter)().pathname,s=(0,_.Z)(),l=s.authenticate,u=s.handleExpiredSession,d="delete_button";return(0,r.jsx)(m.X,{gaCategory:t,gaLabel:d,action:(0,c.Z)(i().mark((function e(){var r,c,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,window.confirm("Are you sure you want to delete this post?")){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,a();case 6:r=e.sent,c=r.jwt,l(c),(0,v.Z)("success",t,d,!0),(0,g.Z)({type:"success",message:"Successfully deleted post!"}),"/[regionSlug]/[patchSlug]/posts"===o?window.location.assign("".concat(n,"/posts")):window.location.reload(),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),s=e.t0.message,e.t0.status===f.W.UNAUTHORIZED?(u(),(0,g.Z)({message:s,type:"danger"})):(0,g.Z)({message:"Unable to delete post",type:"danger"});case 19:case"end":return e.stop()}}),e,null,[[0,15]])}))),label:y.Y4.deletePost})},j=function(e){var t=e.id,n=e.contentType;return(0,r.jsx)(m.X,{gaCategory:n,gaLabel:"edit_button",label:y.Y4.editPost,href:"/post/".concat(t,"/edit")})},k=n(14467),C=n(49689),B=n(36243),w=n(48053),I=n.n(w);!function(e){e.unpin="Unpin",e.default="Default",e.pin="Pin"}(a||(a={}));var R=function(e){var t=e.id,n=e.contentType,o=e.pinned,l=e.pinStatus,u=(0,d.useState)(o),p=u[0],h=u[1],y=(0,d.useState)(l),x=y[0],Z=y[1],b=(0,_.Z)(),j=b.authenticate,w=b.handleExpiredSession;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.Z.Divider,{}),(0,r.jsxs)("li",{className:I().OptionsMenu__label,children:["Visibility (",p?"Pinned":"Unpinned",")"]}),(0,r.jsx)(m.$,{id:t,contentType:n,label:a.default,active:x===C.uh.default,onClick:(0,c.Z)(i().mark((function e(){var a,r,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,v.Z)("click",n,k.ZP.default),e.prev=1,h(x===C.uh.unpinned),Z(C.uh.default),e.next=6,(0,B.FM)(t,C.$6.default);case 6:a=e.sent,j(a),(0,v.Z)("success",n,k.ZP.default),(0,g.Z)({type:"success",message:"Successfully changed pin status to default!"}),e.next=18;break;case 12:e.prev=12,e.t0=e.catch(1),r=e.t0.message,c=e.t0.status,h(o),Z(l),c===f.W.UNAUTHORIZED?(w(),(0,g.Z)({message:r,type:"danger"})):(0,g.Z)({message:"Unable to update pin status",type:"danger"});case 18:case"end":return e.stop()}}),e,null,[[1,12]])}))),indentedLabel:!0},"".concat(n,":").concat(t,":options__pin:").concat(a.default,":").concat(C.uh.default)),(0,r.jsx)(m.$,{id:t,contentType:n,label:a.unpin,active:x===C.uh.unpinned,onClick:(0,c.Z)(i().mark((function e(){var n,a,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!1),Z(C.uh.unpinned),e.next=5,(0,B.FM)(t,C.$6.unpinned);case 5:n=e.sent,j(n),(0,g.Z)({type:"success",message:"Successfully unpinned post!"}),e.next=16;break;case 10:e.prev=10,e.t0=e.catch(0),a=e.t0.message,r=e.t0.status,h(o),Z(l),r===f.W.UNAUTHORIZED?(w(),(0,g.Z)({message:a,type:"danger"})):(0,g.Z)({message:"Unable unpin post",type:"danger"});case 16:case"end":return e.stop()}}),e,null,[[0,10]])}))),indentedLabel:!0},"".concat(n,":").concat(t,":options__pin:").concat(a.unpin,":").concat(C.uh.unpinned)),(0,r.jsx)(m.$,{id:t,contentType:n,label:a.pin,active:x===C.uh.pinned,onClick:(0,c.Z)(i().mark((function e(){var n,a,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),Z(C.uh.pinned),e.next=5,(0,B.FM)(t,C.$6.pinned);case 5:n=e.sent,j(n),(0,g.Z)({type:"success",message:"Successfully pinned post!"}),e.next=16;break;case 10:e.prev=10,e.t0=e.catch(0),a=e.t0.message,r=e.t0.status,h(o),Z(l),r===f.W.UNAUTHORIZED?(w(),(0,g.Z)({message:a,type:"danger"})):(0,g.Z)({message:"Unable to pin post",type:"danger"});case 16:case"end":return e.stop()}}),e,null,[[0,10]])}))),indentedLabel:!0},"".concat(n,":").concat(t,":options__pin:").concat(a.pin,":").concat(C.uh.pinned))]})},T=n(83027),A=n(128),S=function(e){var t=e.authorId,n=e.body,a=e.canReply,o=e.categoryId,d=e.contentType,p=e.id,f=e.patchAlias,_=e.patchId,h=e.pinned,g=e.pinStatus,m=e.handleChangeCategoryAction,v=(0,l.Z)(),k=(0,y.ZP)(v.id,t,v.rid),C=function(){var e=(0,c.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,u.Z)(n),e.abrupt("return",(0,B.Lt)({id:p,images:[],message:t,categoryId:o,patchId:_}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return k.length?(0,r.jsx)("div",{className:I().OptionsMenu,children:(0,r.jsxs)(s.Z,{alignRight:!0,onToggle:function(){return(0,A.Z)(d)},children:[(0,r.jsx)(s.Z.Toggle,{className:I().OptionsMenu__toggle,id:"js-content-options-menu-".concat(d,"-").concat(p),children:(0,r.jsx)(T.Z,{})}),(0,r.jsx)(s.Z.Menu,{as:"ul",flip:!1,children:k.map((function(e){switch(e){case y.XB.visibility:return(0,r.jsx)(R,{contentType:d,id:p,patchAlias:f,pinned:h,pinStatus:g},"".concat(d,":").concat(p,":options__pin"));case y.XB.editPost:return(0,r.jsx)(j,{contentType:d,id:p},"".concat(d,":").concat(p,":options__edit"));case y.XB.deletePost:return(0,r.jsx)(b,{contentType:d,patchAlias:f,onDelete:C},"".concat(d,":").concat(p,":options__delete"));case y.XB.allowPostReplies:return(0,r.jsx)(x,{allowReplies:a,contentType:d,id:p},"".concat(d,":").concat(p,":options__allowReplies"));case y.XB.changePostCategory:return(0,r.jsx)(Z,{contentType:d,id:p,onClick:m},"".concat(d,":").concat(p,":options__changeCategory"));default:return null}}))})]})}):null}},43094:function(e,t,n){"use strict";n.d(t,{XB:function(){return a},Y4:function(){return r}});var a,r,o=n(98707);!function(e){e.visibility="visibility",e.changePostCategory="changePostCategory",e.allowPostReplies="allowPostReplies",e.editPost="editPost",e.deletePost="deletePost"}(a||(a={})),function(e){e.changePostCategory="Change category",e.visibility="Visibility (pinned)",e.editPost="Edit",e.deletePost="Delete",e.allowPostReplies="Allow replies"}(r||(r={}));t.ZP=function(e,t,n){var a=e===t,r=o.RoleId.PatchStaff===n||o.RoleId.PatchNationalStaff===n,i={changePostCategory:r,allowPostReplies:r,editPost:a,deletePost:a||n===o.RoleId.PatchNationalStaff,visibility:r};return Object.keys(i).filter((function(e){return i[e]}))}},53993:function(e,t,n){"use strict";n.d(t,{XB:function(){return a},Y4:function(){return r}});var a,r,o=n(98707);!function(e){e.editReply="editReply",e.deleteReply="deleteReply"}(a||(a={})),function(e){e.editReply="Edit",e.deleteReply="Delete"}(r||(r={}));t.ZP=function(e,t,n){var a=e===t,r={editReply:a,deleteReply:a||n===o.RoleId.PatchNationalStaff};return Object.keys(r).filter((function(e){return r[e]}))}},61021:function(e,t,n){"use strict";n.d(t,{ol:function(){return u},KH:function(){return $e},Tq:function(){return f},oj:function(){return g},zI:function(){return Oe},xF:function(){return He},OU:function(){return re},s5:function(){return N},Hk:function(){return Ve.Z},g4:function(){return W},U1:function(){return at},Tz:function(){return ue},HS:function(){return X}});var a=n(85893),r=n(67294),o=n(52848),i=n.n(o),c=(0,r.forwardRef)((function(e,t){var n=e.children;return(0,a.jsx)("div",{ref:t,className:i().ActionBar,children:n})}));c.displayName="ActionBar";var s,l,u=c,d=n(38868),p=n.n(d),f=function(e){var t=e.children;return(0,a.jsx)("div",{className:p().ActionBar__BarLeft,children:t})},_=n(849),h=n.n(_),g=function(e){var t=e.children;return(0,a.jsx)("div",{className:h().ActionBar__BarRight,children:t})},m=n(809),y=n.n(m),x=n(92447),Z=n(56647),v=n(30039),b=n(79737),j=function(e,t,n,a){return!(!e[t]||!e[t][n])&&e[t][n][a]},k=n(73664),C=n(92618),B=n(18844),w=n(14467),I=n(62656),R=n(3072),T=n(72141),A=n(20385),S=n.n(A),P=function(e){var t=e.children,n=e.defaultReacted,o=void 0!==n&&n,i=e.disabled,c=void 0!==i&&i,s=e.gaCategory,l=e.onClick,u=e.reaction,d=(0,T.Z)().showQuickRegistrationForm,p=(0,r.useState)(o),f=p[0],_=p[1],h=f?w.Zl[u]:w.EO[u],g=!!(0,R.Z)();return(0,r.useEffect)((function(){_(o)}),[o]),(0,a.jsxs)("button",{"aria-label":u,className:"".concat(S().ActionBar__Button," ").concat(S()["ActionBar__Button--".concat(u)]),onClick:function(){if((0,I.Z)("click",s,"".concat(u,"_button")),l&&g)try{l(),_(!f)}catch(e){_(f)}else d()},disabled:c,type:"button",children:[(0,a.jsx)("span",{className:"".concat(S().ActionBar__Icon," ").concat(f?S()["ActionBar__Icon--Is-Active"]:""),children:(0,a.jsx)("i",{className:"fa ".concat(h)})}),t&&(0,a.jsx)("span",{className:S().ActionBar__Label,children:t})]})},N=function(e){var t=e.count,n=e.gaCategory,o=e.itemId,i=e.contentType,c=e.userId,s=e.patchId,l=e.author,u=(0,r.useState)(t),d=u[0],p=u[1],f=(0,r.useContext)(v.Z),_=(0,r.useContext)(v.G),h=(0,b.Z)().handleExpiredSession,g=(0,r.useMemo)((function(){return j(f,B.C[i],o,B.q.interested)}),[f,i,o]);return(0,a.jsxs)(P,{gaCategory:n,reaction:w.ZP.interested,defaultReacted:g,onClick:(0,x.Z)(y().mark((function e(){var t,n;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,_.toggleReaction(o,B.C[i],B.q.interested,!g),p(g?d-1:d+1),e.next=5,k.Z.interested(o.toString(),i,c,s,!g,l.id,l.rid);case 5:e.next=13;break;case 7:e.prev=7,e.t0=e.catch(0),t=e.t0.message,n=e.t0.status,p(d),_.toggleReaction(o,B.C[i],B.q.interested,g),n===Z.W.UNAUTHORIZED?(h(),(0,C.Z)({message:t,type:"danger"})):(0,C.Z)({message:"Unable to add reaction",type:"danger"});case 13:case"end":return e.stop()}}),e,null,[[0,7]])}))),children:["Interested",d>0&&" (".concat(d,")")]})},O=n(94184),L=n.n(O),M=n(43489),U=n(49117),E=n(83332),F=n(75750),D=n(93509),W=function(e){var t=e.count,n=e.gaCategory,r=e.itemAlias,o=e.onClick,i=e.threadStatus,c=void 0===i?F.Z.collapsed:i,s=e.type,l=(0,R.Z)(),u=(0,T.Z)().showQuickRegistrationForm,d=c===F.Z.collapsed,p=c===F.Z.disabled,f=(0,a.jsxs)("button",{"aria-label":w.ZP.reply,className:L()([S().ActionBar__Button,S()["ActionBar__Button--".concat(w.ZP.reply)]]),disabled:p,onClick:function(){(0,D.Z)("click",n,"".concat(w.ZP.reply,"_button")),d&&s!==E.ZP.article&&(l||t||u()),o&&o()},type:"button",children:[(0,a.jsx)("span",{className:S().ActionBar__Icon,children:(0,a.jsx)("i",{className:"fa fa-comment-fal"})}),(0,a.jsxs)("span",{className:S().ActionBar__Label,children:["Reply ",t>0&&"(".concat(t,")")]})]});return c===F.Z.disabled?(0,a.jsx)(U.Z,{placement:"bottom",delay:{show:250,hide:400},overlay:(0,a.jsxs)(M.Z,{id:r,children:["Replies have been disabled on this ",s]}),children:(0,a.jsxs)("button",{"aria-label":w.ZP.reply,className:L()([S().ActionBar__Button,S()["ActionBar__Button--".concat(w.ZP.reply)]]),type:"button",children:[(0,a.jsx)("span",{className:S().ActionBar__Icon,children:(0,a.jsx)("i",{className:"fa fa-comment-fal"})}),(0,a.jsx)("span",{className:S().ActionBar__Label,children:"Reply"})]})}):f},X=function(e){var t=e.count,n=e.gaCategory,o=e.itemId,i=e.contentType,c=e.userId,s=e.patchId,l=e.author,u=(0,r.useState)(t),d=u[0],p=u[1],f=(0,r.useContext)(v.Z),_=(0,r.useContext)(v.G),h=(0,b.Z)().handleExpiredSession,g=(0,r.useMemo)((function(){return j(f,B.C[i],o,B.q.thanked)}),[f,i,o]);return(0,a.jsxs)(P,{gaCategory:n,reaction:w.ZP.thank,defaultReacted:g,onClick:(0,x.Z)(y().mark((function e(){var t,n;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,_.toggleReaction(o,B.C[i],B.q.thanked,!g),p(g?d-1:d+1),e.next=5,k.Z.thank(o.toString(),i,c,s,!g,l.id,l.rid);case 5:e.next=13;break;case 7:e.prev=7,e.t0=e.catch(0),t=e.t0.message,n=e.t0.status,p(d),_.toggleReaction(o,B.C[i],B.q.thanked,g),n===Z.W.UNAUTHORIZED?(h(),(0,C.Z)({message:t,type:"danger"})):(0,C.Z)({message:"Unable to add reaction",type:"danger"});case 13:case"end":return e.stop()}}),e,null,[[0,7]])}))),children:["Thank",d>0&&" (".concat(d,")")]})},z=n(50141),H=n(62573),V=n(38347),q=function(e,t,n){if(e[t]&&e[t][n]){var a=e[t][n],r=(a.thanked,a.interested,(0,V.Z)(a,["thanked","interested"])),o=Object.keys(r).find((function(e){return!0===r[e]}));return o||null}return null},Y=n(98707),G=n(75217),Q=n.n(G),$=function(e){var t=e.contentType,n=e.itemId,o=e.gaCategory,i=e.isFlagged,c=e.userRoleId,s=e.undoFlag,l=(0,T.Z)().showQuickRegistrationForm,u=(0,r.useState)(!1),d=u[0],p=u[1],f=i?w.Zl.flag:w.EO.flag;return(0,r.useEffect)((function(){p(!c||!(0,Y.isStaff)(c)&&i)}),[c,i]),(0,a.jsx)(z.Z.Toggle,{as:"div",id:"js-content-flag-menu-".concat(t,"-").concat(n),disabled:d,className:Q().Button__toggle,children:(0,a.jsx)("button",{"aria-label":w.ZP.flag,className:"".concat(Q().Button__Button," ").concat(Q()["Button__Button--".concat(w.ZP.flag)]),onClick:function(){return(0,D.Z)("click",o,"flag_button"),c||l(),i&&!(0,Y.isStaff)(c)&&s(),null},type:"button",children:(0,a.jsx)("span",{className:"".concat(Q().Button__Icon," ").concat(i?Q()["Button__Icon--Is-Active"]:Q()["Button__Icon--Is-Inactive"]),children:(0,a.jsx)("i",{className:"fa ".concat(f)})})})})},J=n(26265),K=n(52846),ee=n.n(K),te=function(e){var t=e.flag,n=e.onClick,r=e.userRoleId,o=e.count,i=e.disabled,c=H.zd[t],s=(0,Y.isStaff)(r);return(0,a.jsxs)(z.Z.Item,{as:"li",className:L()([ee().FlagItem__link,(0,J.Z)({},ee()["FlagItem__link--displayCount"],s),(0,J.Z)({},ee()["FlagItem__link--active"],!i)]),onClick:function(){return n(t)},disabled:i,children:[(0,a.jsx)("span",{children:c}),(0,a.jsx)("span",{children:s?o.toString():null})]})},ne=n(90705),ae=n.n(ne),re=function(e){var t=e.flags,n=e.contentType,o=e.itemId,i=e.userId,c=e.patchId,s=e.gaCategory,l=e.userRoleId,u=e.authorUserId,d=e.authorRoleId,p=(0,r.useContext)(v.Z),f=(0,r.useContext)(v.G),_=(0,b.Z)().handleExpiredSession,h=(0,r.useMemo)((function(){return H.ZP[q(p,B.C[n],o)]}),[p,n,o]),g=(0,r.useMemo)((function(){return!!h}),[h]),m=function(){var e=(0,x.Z)(y().mark((function e(t){return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",k.Z.flag(o.toString(),n,i,c,t,!g,u,d));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=(0,x.Z)(y().mark((function e(t){var a,r,i;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l){e.next=13;break}return a=j(p,H.ZP[n],o,H.ZP[t]),e.prev=2,e.next=5,m(t);case 5:f.toggleReaction(o,B.C[n],t,!a),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(2),r=e.t0.message,i=e.t0.status,f.toggleReaction(o,B.C[n],t,!a),i===Z.W.UNAUTHORIZED?(_(),(0,C.Z)({message:r,type:"danger"})):(0,C.Z)({message:"Unable to flag content",type:"danger"});case 13:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}();return(0,a.jsx)("div",{className:ae().FlagMenu,children:(0,a.jsxs)(z.Z,{alignRight:!0,"aria-label":"flags",children:[(0,a.jsx)($,{contentType:n,itemId:o,gaCategory:s,isFlagged:g,userRoleId:l,undoFlag:function(){try{m(H.ZP[h]),f.toggleReaction(o,B.C[n],H.ZP[h],!h)}catch(e){f.toggleReaction(o,B.C[n],H.ZP[h],!h),(0,C.Z)({message:"Unable to remove flag",type:"danger"})}}}),(0,a.jsxs)(z.Z.Menu,{as:"ul",flip:!1,children:[(0,a.jsx)("li",{className:ae().FlagMenu__label,children:"Reason for reporting:"}),(0,a.jsx)(te,{flag:H.ZP.spam,count:t.spamCount,userRoleId:l,onClick:w,disabled:g},H.ZP.spam),(n===E.ZP.article||n===E.ZP.post)&&(0,a.jsx)(te,{flag:H.ZP.promotional,count:t.promotionalCount,userRoleId:l,onClick:w,disabled:g},H.ZP.promotional),(0,a.jsx)(te,{flag:H.ZP.disagree,count:t.disagreeCount,userRoleId:l,onClick:w,disabled:g},H.ZP.disagree),(0,a.jsx)(te,{flag:H.ZP.notLocal,count:t.notLocalCount,userRoleId:l,onClick:w,disabled:g},H.ZP.notLocal),(0,a.jsx)(te,{flag:H.ZP.unverified,count:t.unverifiedCount,userRoleId:l,onClick:w,disabled:g},H.ZP.unverified),(0,a.jsx)(te,{flag:H.ZP.offensive,count:t.offensiveCount,userRoleId:l,onClick:w,disabled:g},H.ZP.offensive)]})]})})},oe=n(28145),ie=n(45012),ce=n.n(ie),se=n(56667),le=function(e){var t=e.gaCategory,n=e.gaLabel,r=e.href,o=e.icon,i=e.title,c=e.type;return(0,a.jsxs)(se.Z,{className:L()([ce().ShareLink,ce()["ShareLink--".concat(c)]]),gaCategory:t,gaLabel:n,href:r,rel:"nofollow",target:"_blank",title:i,children:[(0,a.jsx)("i",{className:"fa ".concat(o," ").concat(ce().ShareLink__icon)}),i]})},ue=function(e){var t=e.gaCategory,n=e.id,o=e.itemAlias,i=e.summary,c=e.title,s=(0,r.useRef)(null),l=(0,r.useState)(!1),u=l[0],d=l[1],p=(0,oe.AK)(o,c,i),f=(0,oe.m4)(o),_=(0,oe.RS)(o),h=(0,oe.Gd)(o,c),g=(0,oe.L)(o,c),m=function(){var e=(0,x.Z)(y().mark((function e(){return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,D.Z)("click",t,"share_native"),e.next=3,window.navigator.share({title:c,url:decodeURIComponent((0,oe.Zl)(o,"share-mobile","web"))});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,r.useEffect)((function(){d("share"in window.navigator)}),[]),u?(0,a.jsxs)("button",{className:"".concat(S().ActionBar__Button," ").concat(S()["ActionBar__Button--share"]),onClick:m,type:"button",children:[(0,a.jsx)("span",{className:S().ActionBar__Icon,children:(0,a.jsx)("i",{className:"fa fa-share-all-light"})}),(0,a.jsx)("span",{className:S().ActionBar__Label,children:"Share"})]}):(0,a.jsx)("div",{className:ce().ShareDropdown,children:(0,a.jsxs)(z.Z,{children:[(0,a.jsxs)(z.Z.Toggle,{id:"".concat(t,":").concat(n,"__share-toggle"),children:[(0,a.jsx)("span",{className:S().ActionBar__Icon,children:(0,a.jsx)("i",{className:"fa fa-share-all-light"})}),(0,a.jsx)("span",{className:S().ActionBar__Label,children:"Share"})]}),(0,a.jsxs)(z.Z.Menu,{as:"ul",flip:!1,children:[(0,a.jsx)(z.Z.Header,{children:"Share this post:"}),(0,a.jsx)(z.Z.Item,{as:"li",children:(0,a.jsx)(le,{gaCategory:t,gaLabel:"share_facebook",href:f,icon:"fa-facebook-f",title:"Share on Facebook",type:"facebook"})}),(0,a.jsx)(z.Z.Item,{as:"li",children:(0,a.jsx)(le,{gaCategory:t,gaLabel:"share_email",href:p,icon:"fa-envelope",title:"Share via email",type:"default"})}),(0,a.jsx)(z.Z.Item,{as:"li",children:(0,a.jsx)(le,{gaCategory:t,gaLabel:"share_twitter",href:g,icon:"fa-twitter",title:"Share on Twitter",type:"twitter"})}),(0,a.jsxs)(z.Z.Item,{as:"li",children:[(0,a.jsx)("input",{className:"sr-only",readOnly:!0,ref:s,type:"url",value:decodeURIComponent((0,oe.Zl)(o,"share-link","web"))}),(0,a.jsxs)("button",{className:"".concat(ce().ShareLink," ").concat(ce()["ShareLink--default"]),onClick:function(){(0,D.Z)("click",t,"share_copy_link"),s.current&&(s.current.select(),document.execCommand("copy"),(0,C.Z)({type:"success",message:(0,a.jsxs)("span",{children:[(0,a.jsx)("i",{className:"fa fa-check-fas"})," Copied"]})}))},type:"button",children:[(0,a.jsx)("i",{className:"fa fa-link ".concat(ce().ShareLink__icon)}),"Copy link"]})]}),(0,a.jsx)(z.Z.Item,{as:"li",children:(0,a.jsx)(le,{gaCategory:t,gaLabel:"share_linkedin",href:_,icon:"fa-linkedin-in",title:"Share on Linkedin",type:"linkedin"})}),(0,a.jsx)(z.Z.Item,{as:"li",children:(0,a.jsx)(le,{gaCategory:t,gaLabel:"share_reddit",href:h,icon:"fa-reddit-alien",title:"Share on Reddit",type:"reddit"})})]})]})})},de=n(11163),pe=n(67843);!function(e){e.promote="promote",e.edit="edit",e.delete="delete",e.showReplies="showReplies"}(s||(s={})),function(e){e.promote="Promote",e.edit="Edit",e.delete="Delete",e.showReplies="Show replies"}(l||(l={}));var fe,_e,he=n(44534),ge=n(72929),me=n(83027),ye=n(128);!function(e){e.promote="promote",e.edit="edit",e.delete="delete",e.showReplies="showReplies",e.displayContactForm="displayContactForm"}(fe||(fe={})),function(e){e.promote="Promote",e.edit="Edit",e.delete="Delete",e.showReplies="Show replies",e.displayContactForm="Display contact form"}(_e||(_e={}));var xe,Ze,ve=function(e,t,n){var a=!(0,pe.zs)(n),r=t===Y.RoleId.PatchStaff||t===Y.RoleId.PatchNationalStaff;return a&&(e||r)},be=function(e,t,n){var a=t===Y.RoleId.PatchNationalStaff;return e&&!(0,pe.zs)(n)||a},je=function(e,t,n,a){var r=e===t,o=(0,Y.isStaff)(n),i={promote:ve(r,n,a),edit:r||o,delete:be(r,n,a),showReplies:o,displayContactForm:r||o};return Object.keys(i).filter((function(e){return i[e]}))},ke=function(){var e=(0,x.Z)(y().mark((function e(t,n,a,r){var o,i;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!n),e.prev=1,e.next=4,k.Z.toggleDisplayClassifiedContactFormOption(t,!n);case 4:o=e.sent,i=o.data,a(!!i.show_contact_form),r&&r(),(0,C.Z)({type:"success",message:"Successfully ".concat(n?"hid":"displayed"," contact form!")}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),a(n),(0,C.Z)({message:"Unable to ".concat(n?"hide":"display"," form"),type:"danger"});case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,n,a,r){return e.apply(this,arguments)}}(),Ce=function(e){var t=e.id,n=e.contentType,o=e.displayContactForm,i=e.onClick,c=(0,r.useState)(o),s=c[0],l=c[1];return(0,a.jsx)(ge.Z,{id:t,contentType:n,label:_e.displayContactForm,active:s,onClick:function(){return ke(t,s,l,i)}})},Be=n(32292),we=function(){var e=(0,x.Z)(y().mark((function e(t,n,a,r){var o,i,c;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,window.confirm("Are you sure you want to delete this ".concat(n,"?"))){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,k.Z.deleteContent(t,E.yk[n]);case 6:(0,C.Z)({type:"success",message:"Successfully deleted ".concat(n,"!")}),o=r.asPath.split("/"),i=(0,Be.Z)(o,6),c=i[5],!!c?window.location.assign("".concat(a,"/classifieds")):r.reload(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),(0,C.Z)({message:"Unable to delete ".concat(n),type:"danger"});case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n,a,r){return e.apply(this,arguments)}}(),Ie=function(e){var t=e.id,n=e.contentType,r=e.patchAlias,o=(0,de.useRouter)();return(0,a.jsx)(he.Z,{gaCategory:n,gaLabel:"delete_button",action:function(){return we(t,n,r,o)},label:_e.delete},"".concat(n,":").concat(t))},Re=function(e,t){return"/".concat(t,"/").concat(e,"/edit")},Te=function(e){var t=e.id,n=e.contentType;return(0,a.jsx)(he.Z,{gaCategory:n,gaLabel:"edit_button",href:Re(t,n),label:_e.edit},"".concat(n,":").concat(t))},Ae=n(48053),Se=n.n(Ae),Pe=function(e){var t=e.id,n=e.contentType,r=function(e,t){return"/".concat(t,"/").concat(e,"/promote")}(t,n);return(0,a.jsx)(z.Z.Item,{as:"li",children:(0,a.jsxs)(se.Z,{className:Se().OptionsMenu__link,href:r,children:[(0,a.jsx)("span",{className:"".concat(Se()["OptionsMenu__link--promote"]),children:_e.promote})," ",(0,a.jsx)("i",{className:"fa fa-chart-line ".concat(Se()["OptionsMenu__link--promote"])})]})},"".concat(n,":").concat(t))},Ne=function(e){var t=e.id,n=e.contentType,o=e.repliesEnabled,i=(0,de.useRouter)(),c=(0,r.useState)(o),s=c[0],l=c[1],u=(0,b.Z)(),d=u.authenticate,p=u.handleExpiredSession,f=function(){var e=(0,x.Z)(y().mark((function e(){var n,a,r,o,c;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!s),e.prev=1,e.next=4,k.Z.toggleRepliesEnabledOption(E.ZP.classified,t,s);case 4:n=e.sent,a=n.data.data,r=a.patch_jwt,d(r),(0,C.Z)({type:"success",message:"Successfully ".concat(s?"disabled":"enabled"," replies!")}),i.reload(),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(1),o=e.t0.message,c=e.t0.status,l(s),c===Z.W.UNAUTHORIZED?(p(),(0,C.Z)({message:o,type:"danger"})):(0,C.Z)({message:"Unable to ".concat(s?"disable":"enable"," replies"),type:"danger"});case 17:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}();return(0,a.jsx)(ge.Z,{id:t,contentType:n,label:_e.showReplies,active:s,onClick:f})},Oe=function(e){var t=e.authorId,n=e.contentType,r=e.displayContactForm,o=e.id,i=e.patchAlias,c=e.promotedLevel,s=e.repliesEnabled,l=e.updateDisplayContactForm,u=(0,R.Z)(),d=je(u.id,t,u.rid,c);return d.length?(0,a.jsx)("div",{className:Se().OptionsMenu,children:(0,a.jsxs)(z.Z,{alignRight:!0,onToggle:function(){return(0,ye.Z)(n)},children:[(0,a.jsx)(z.Z.Toggle,{className:Se().OptionsMenu__toggle,id:"js-content-options-menu-".concat(n,"-").concat(o),children:(0,a.jsx)(me.Z,{})}),(0,a.jsx)(z.Z.Menu,{as:"ul",flip:!1,children:d.map((function(e){switch(e){case fe.promote:return(0,a.jsx)(Pe,{contentType:n,id:o},"".concat(n,":").concat(o,":options__promote"));case fe.edit:return(0,a.jsx)(Te,{contentType:n,id:o},"".concat(n,":").concat(o,":options__edit"));case fe.delete:return(0,a.jsx)(Ie,{contentType:n,id:o,patchAlias:i},"".concat(n,":").concat(o,":options__delete"));case fe.displayContactForm:return(0,a.jsx)(Ce,{contentType:n,displayContactForm:r,id:o,patchAlias:i,onClick:l},"".concat(n,":").concat(o,":options__toggleContactForm"));case fe.showReplies:return(0,a.jsx)(Ne,{contentType:n,id:o,patchAlias:i,repliesEnabled:s},"".concat(n,":").concat(o,":options__enableReplies"));default:return null}}))})]})}):null};!function(e){e.promote="promote",e.edit="edit",e.delete="delete",e.showReplies="showReplies"}(xe||(xe={})),function(e){e.promote="Promote",e.edit="Edit",e.delete="Delete",e.showReplies="Show replies"}(Ze||(Ze={}));var Le=function(e,t,n){var a=!(0,pe.zs)(n),r=(0,Y.isStaff)(t);return a&&(e||r)},Me=function(e,t,n){var a=t===Y.RoleId.PatchNationalStaff;return e&&!(0,pe.zs)(n)||a},Ue=function(e,t,n,a){var r=e===t,o=(0,Y.isStaff)(n),i={promote:Le(r,n,a),edit:r||o,delete:Me(r,n,a),showReplies:o};return Object.keys(i).filter((function(e){return i[e]}))},Ee=function(){var e=(0,x.Z)(y().mark((function e(t,n,a,r){var o,i,c;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,window.confirm("Are you sure you want to delete this ".concat(n,"?"))){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,k.Z.deleteContent(t,E.yk[n]);case 6:(0,C.Z)({type:"success",message:"Successfully deleted ".concat(n,"!")}),o=r.asPath.split("/"),i=(0,Be.Z)(o,7),c=i[6],!!c?window.location.assign("".concat(a,"/calendar")):r.reload(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),(0,C.Z)({message:"Unable to delete ".concat(n),type:"danger"});case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n,a,r){return e.apply(this,arguments)}}(),Fe=function(e){var t=e.id,n=e.contentType,r=e.patchAlias,o=(0,de.useRouter)();return(0,a.jsx)(he.Z,{gaCategory:n,gaLabel:"delete_button",action:function(){return Ee(t,n,r,o)},label:Ze.delete},"".concat(n,":").concat(t))},De=function(e,t){return"/".concat(t,"/").concat(e,"/edit")},We=function(e){var t=e.id,n=e.contentType;return(0,a.jsx)(he.Z,{gaCategory:n,gaLabel:"edit_button",href:De(t,n),label:Ze.edit},"".concat(n,":").concat(t))},Xe=function(e){var t=e.id,n=e.contentType,r=function(e,t){return"/".concat(t,"/").concat(e,"/promote")}(t,n);return(0,a.jsx)(z.Z.Item,{as:"li",children:(0,a.jsxs)(se.Z,{className:Se().OptionsMenu__link,href:r,children:[(0,a.jsx)("span",{className:"".concat(Se()["OptionsMenu__link--promote"]),children:Ze.promote})," ",(0,a.jsx)("i",{className:"fa fa-chart-line ".concat(Se()["OptionsMenu__link--promote"])})]})},"".concat(n,":").concat(t))},ze=function(e){var t=e.id,n=e.contentType,o=e.repliesEnabled,i=(0,de.useRouter)(),c=(0,r.useState)(o),s=c[0],l=c[1],u=(0,b.Z)(),d=u.authenticate,p=u.handleExpiredSession,f=function(){var e=(0,x.Z)(y().mark((function e(){var n,a,r,o,c;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!s),e.prev=1,e.next=4,k.Z.toggleRepliesEnabledOption(E.ZP.event,t,s);case 4:n=e.sent,a=n.data.data,r=a.patch_jwt,d(r),(0,C.Z)({type:"success",message:"Successfully ".concat(s?"disabled":"enabled"," replies!")}),i.reload(),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(1),o=e.t0.message,c=e.t0.status,l(s),c===Z.W.UNAUTHORIZED?(p(),(0,C.Z)({message:o,type:"danger"})):(0,C.Z)({message:"Unable to ".concat(s?"disable":"enable"," replies"),type:"danger"});case 17:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}();return(0,a.jsx)(ge.Z,{id:t,contentType:n,label:Ze.showReplies,active:s,onClick:f})},He=function(e){var t=e.authorId,n=e.contentType,r=e.id,o=e.patchAlias,i=e.promotedLevel,c=e.repliesEnabled,s=(0,R.Z)(),l=Ue(s.id,t,s.rid,i);return l.length?(0,a.jsx)("div",{className:Se().OptionsMenu,children:(0,a.jsxs)(z.Z,{alignRight:!0,onToggle:function(){return(0,ye.Z)(n)},children:[(0,a.jsx)(z.Z.Toggle,{className:Se().OptionsMenu__toggle,id:"js-content-options-menu-".concat(n,"-").concat(r),children:(0,a.jsx)(me.Z,{})}),(0,a.jsx)(z.Z.Menu,{as:"ul",flip:!1,children:l.map((function(e){switch(e){case xe.promote:return(0,a.jsx)(Xe,{contentType:n,id:r},"".concat(n,":").concat(r,":options__promote"));case xe.edit:return(0,a.jsx)(We,{contentType:n,id:r},"".concat(n,":").concat(r,":options__edit"));case xe.delete:return(0,a.jsx)(Fe,{contentType:n,id:r,patchAlias:o},"".concat(n,":").concat(r,":options__delete"));case xe.showReplies:return(0,a.jsx)(ze,{contentType:n,id:r,patchAlias:o,repliesEnabled:c},"".concat(n,":").concat(r,":options__enableReplies"));default:return null}}))})]})}):null},Ve=n(96773),qe=n(13903),Ye=n(20562),Ge=function(e){var t=e.id,n=e.contentType,o=(0,r.useContext)(qe.Z).URLS.MYPATCH_URL;return(0,a.jsx)(he.Z,{gaCategory:n,gaLabel:"edit_button",href:"".concat(o,"/").concat(n,"/").concat(t,"/edit"),label:Ye.Y4.edit},"".concat(n,":").concat(t))},Qe=function(e){var t=e.id,n=e.contentType,o=e.repliesEnabled,i=(0,de.useRouter)(),c=(0,r.useState)(o),s=c[0],l=c[1],u=(0,b.Z)(),d=u.authenticate,p=u.handleExpiredSession,f=function(){var e=(0,x.Z)(y().mark((function e(){var n,a,r,o,c;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!s),e.prev=1,e.next=4,k.Z.toggleRepliesEnabledOption(E.ZP.article,t,s);case 4:n=e.sent,a=n.data.data,r=a.patch_jwt,d(r),(0,C.Z)({type:"success",message:"Successfully ".concat(s?"disabled":"enabled"," replies!")}),i.reload(),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(1),o=e.t0.message,c=e.t0.status,l(s),c===Z.W.UNAUTHORIZED?(p(),(0,C.Z)({message:o,type:"danger"})):(0,C.Z)({message:"Unable to ".concat(s?"disable":"enable"," replies"),type:"danger"});case 17:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}();return(0,a.jsx)(ge.Z,{id:t,contentType:n,label:Ye.Y4.showReplies,active:s,onClick:f})},$e=function(e){var t=e.authorId,n=e.contentType,r=e.id,o=e.patchAlias,i=e.repliesEnabled,c=(0,R.Z)(),s=(0,Ye.ZP)(c.id,t,c.rid);return s.length?(0,a.jsx)("div",{className:Se().OptionsMenu,children:(0,a.jsxs)(z.Z,{alignRight:!0,onToggle:function(){return(0,ye.Z)(n)},children:[(0,a.jsx)(z.Z.Toggle,{className:Se().OptionsMenu__toggle,id:"js-content-options-menu-".concat(n,"-").concat(r),children:(0,a.jsx)(me.Z,{})}),(0,a.jsx)(z.Z.Menu,{as:"ul",flip:!1,children:s.map((function(e){switch(e){case Ye.XB.edit:return(0,a.jsx)(Ge,{id:r,contentType:n},"".concat(n,":").concat(r,":options__edit"));case Ye.XB.showReplies:return(0,a.jsx)(Qe,{id:r,contentType:n,patchAlias:o,repliesEnabled:i},"".concat(n,":").concat(r,":options__enableReplies"));default:return null}}))})]})}):null},Je=n(88416),Ke=n(53993),et=n(65551),tt=function(e){var t=e.contentType,n=e.onDelete;return(0,a.jsx)(et.X,{gaCategory:t,gaLabel:"delete_button",action:n,label:Ke.Y4.deleteReply})},nt=function(e){var t=e.id,n=e.contentType,r=e.onClick;return(0,a.jsx)(he.Z,{action:r,gaCategory:n,gaLabel:"edit_button",label:Ke.Y4.editReply},"".concat(n,":").concat(t))},at=function(e){var t=e.authorId,n=e.contentType,r=e.deleteReply,o=e.id,i=e.onClick,c=(0,R.Z)(),s=(0,b.Z)().handleExpiredSession,l=(0,Ke.ZP)(c.id,t,c.rid),u=function(){var e=(0,x.Z)(y().mark((function e(){var t,a;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t="delete_button",e.prev=1,window.confirm("Are you sure you want to delete this reply?")){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,(0,Je.Mf)(o);case 7:r(o),(0,D.Z)("success",n,t,!0),(0,C.Z)({type:"success",message:"Successfully deleted reply!"}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),a=e.t0.message,e.t0.status===Z.W.UNAUTHORIZED?(s(),(0,C.Z)({message:a,type:"danger"})):(0,C.Z)({message:"Unable to delete reply",type:"danger"});case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}();return l.length?(0,a.jsx)("div",{className:Se().OptionsMenu,children:(0,a.jsxs)(z.Z,{alignRight:!0,onToggle:function(){return(0,ye.Z)(n)},children:[(0,a.jsx)(z.Z.Toggle,{className:Se().OptionsMenu__toggle,id:"js-content-options-menu-".concat(n,"-").concat(o),children:(0,a.jsx)(me.Z,{})}),(0,a.jsx)(z.Z.Menu,{as:"ul",flip:!1,children:l.map((function(e){switch(e){case Ke.XB.editReply:return(0,a.jsx)(nt,{contentType:n,id:o,onClick:i},"".concat(n,":").concat(o,":options__edit"));case Ke.XB.deleteReply:return(0,a.jsx)(tt,{contentType:n,onDelete:u},"".concat(n,":").concat(o,":options__delete"));default:return null}}))})]})}):null}},73261:function(e,t,n){"use strict";var a=n(85893),r=n(44842),o=n.n(r);t.Z=function(e){var t=e.children;return(0,a.jsx)("div",{className:o().Card__Content,children:t})}},89307:function(e,t,n){"use strict";var a=n(85893),r=n(25836),o=n.n(r);t.Z=function(){return(0,a.jsx)("span",{className:o().Card__LabelDivider,children:"|"})}},75012:function(e,t,n){"use strict";var a=n(85893),r=n(26265),o=n(94184),i=n.n(o),c=n(55461),s=n.n(c);t.Z=function(e){var t=e.children,n=e.isCondensed;return(0,a.jsx)("div",{className:i()([s().Card__TextContentWrapper,(0,r.Z)({},s()["Card__TextContentWrapper--Condensed"],n)]),children:t})}},61026:function(e,t,n){"use strict";var a=n(85893),r=n(52019),o=n(56667),i=n(43479),c=n.n(i);t.Z=function(e){var t=e.gaCategory,n=e.gaLabel,i=e.href,s=e.src,l=e.title,u=e.trackEngagement,d=e.rel,p=e.target,f=(0,a.jsx)(r.ZP,{alt:l,className:c().Card__ThumbnailImage,lazy:!0,responsiveImageType:"CARD",src:s,zoom:!i});return i?(0,a.jsx)(o.Z,{className:c().Card__Thumbnail,gaCategory:t,gaLabel:n,href:i,onClick:function(){u&&u(n)},title:l,rel:d,target:p,children:f}):(0,a.jsx)("figure",{className:c().Card__Thumbnail,children:f})}},62656:function(e,t,n){"use strict";var a=n(71142),r=n(44450),o=n(93509);t.Z=function(e,t,n){(0,r.Z)((function(){return function(e,t,n){var r="".concat(t,"__").concat(n,"__").concat(e),o=a.N5[r];"undefined"!==typeof o&&(0,a.ZP)(o)}(e,t,n)}),(function(){return(0,o.Z)(e,t,n)}))}},40621:function(e,t,n){"use strict";n.d(t,{O:function(){return a},Z:function(){return x}});var a,r=n(85893),o=n(26265),i=n(94184),c=n.n(i),s=n(98707),l=n(19611),u=n(49117),d=n(52019),p=n(53579),f=n.n(p),_=function(){return(0,r.jsx)(u.Z,{trigger:"click",placement:"bottom",rootClose:!0,overlay:(0,r.jsxs)(l.Z,{id:"popover-positioned-verified_user",children:[(0,r.jsx)(l.Z.Title,{as:"h3",children:"Verified Patch Staff"}),(0,r.jsx)(l.Z.Content,{children:"This author is a verified staff member or freelancer for Patch Media."})]}),children:(0,r.jsx)(d.ZP,{alt:"Verified Patch Staff Badge",className:f().Badge,src:s.BadgeImage.verifiedPatchStaff,lazy:!0})})},h=n(56667),g=function(){return(0,r.jsx)(u.Z,{trigger:"click",placement:"bottom",rootClose:!0,overlay:(0,r.jsxs)(l.Z,{id:"popover-positioned-verified_local_official",children:[(0,r.jsx)(l.Z.Title,{as:"h3",children:"Verified Local Official"}),(0,r.jsxs)(l.Z.Content,{children:["Patch has verified this neighbor as a public official in your community."," ",(0,r.jsx)(h.Z,{href:"https://support.patch.com/hc/en-us/articles/360052941232-How-can-I-contribute-as-a-local-official-on-Patch",target:"_blank",children:"Learn more"})," ","about our ",(0,r.jsx)("em",{children:"Local Official"})," program."]})]}),children:(0,r.jsx)(d.ZP,{alt:"Verified Local Official Badge",className:f().Badge,src:s.BadgeImage.verifiedLocalOfficial,lazy:!0})})},m=function(){return(0,r.jsx)(u.Z,{trigger:"click",placement:"bottom",rootClose:!0,overlay:(0,r.jsxs)(l.Z,{id:"popover-positioned-verified_national_official",children:[(0,r.jsx)(l.Z.Title,{as:"h3",children:"Verified National Official"}),(0,r.jsxs)(l.Z.Content,{children:["Patch has verified this neighbor as a public official for the U.S. government."," ",(0,r.jsx)(h.Z,{href:"https://support.patch.com/hc/en-us/articles/360052941232-How-can-I-contribute-as-a-local-official-on-Patch",target:"_blank",children:"Learn more"})," ","about our public official program."]})]}),children:(0,r.jsx)(d.ZP,{alt:"Verified National Official Badge",className:f().Badge,src:s.BadgeImage.verifiedNationalOfficial,lazy:!0})})},y=function(){return(0,r.jsx)(u.Z,{trigger:"click",placement:"bottom",rootClose:!0,overlay:(0,r.jsxs)(l.Z,{id:"popover-positioned-verified_user",children:[(0,r.jsx)(l.Z.Title,{as:"h3",children:"Verified Neighbor"}),(0,r.jsxs)(l.Z.Content,{children:["Patch has verified this neighbor as a member of your community."," ",(0,r.jsx)(h.Z,{href:"/us/across-america/how-get-verified-patch",target:"_blank",children:"Learn how"})," ","you can verify your Patch account."]})]}),children:(0,r.jsx)(d.ZP,{alt:"Verified User Badge",className:f().Badge,src:s.BadgeImage.verifiedUser,lazy:!0})})};!function(e){e.small="small",e.base="base",e.large="large"}(a||(a={}));var x=function(e){var t,n=e.badges,i=void 0===n?[]:n,l=e.roleId,u=e.size,d=void 0===u?a.base:u;return(0,r.jsxs)("span",{className:c()([f().Badges,(t={},(0,o.Z)(t,f()["Badges--large"],d===a.large),(0,o.Z)(t,f()["Badges--small"],d===a.small),t)]),children:[(0,s.isStaff)(l)&&(0,r.jsx)(_,{}),(null===i||void 0===i?void 0:i.length)>0&&i.map((function(e){return function(e){switch(e){case s.BadgeType.verifiedUser:return(0,r.jsx)(y,{},e);case s.BadgeType.verifiedLocalOfficial:return(0,r.jsx)(g,{},e);case s.BadgeType.verifiedNationalOfficial:return(0,r.jsx)(m,{},e);default:return null}}(e.type)}))]})}},88416:function(e,t,n){"use strict";n.d(t,{JT:function(){return p},R1:function(){return f},PP:function(){return _},uf:function(){return h},Mf:function(){return g}});var a=n(32292),r=n(809),o=n.n(r),i=n(92447),c=n(56647),s=n(73664),l=n(93754),u=n(42545),d=(0,l.Z)().URLS.PATCH_FE_URL,p=function(){var e=(0,i.Z)(o().mark((function e(t){var n,a,r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.patchRepliesApi.get("/reply/".concat(t));case 3:return n=e.sent,a=n.data,e.abrupt("return",(0,u.zh)(a));case 8:if(e.prev=8,e.t0=e.catch(0),r=e.t0.response,(r||{}).status!==c.W.GONE){e.next=15;break}return i=r.data,e.abrupt("return",i);case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=(0,i.Z)(o().mark((function e(t){var n,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.patchRepliesApi.get("/reply".concat(t));case 2:return n=e.sent,a=n.data,e.abrupt("return",(0,u.k6)(a));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=(0,i.Z)(o().mark((function e(t){var n,r,i,c,l,p,f,_,h,g;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.message,r=t.patchId,i=t.images,c=t.parent,l=t.mention,p={message:n,parent:{id:c.id.toString(),type:c.type},patchId:r},i.length>0&&(f=(0,a.Z)(i,1),_=f[0],p.image={base64Img:_.src,fileName:_.filename}),l&&(p.taggedUser={name:l.name,alias:"".concat(d).concat(l.alias)}),e.next=6,s.Z.patchRepliesApi.post("/reply",p);case 6:return h=e.sent,g=h.data,e.abrupt("return",(0,u.zh)(g));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=(0,i.Z)(o().mark((function e(t){var n,a,r,i,c,l,d,p;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,a=t.message,r=t.images,i=t.mention,c={message:a},r.length>0?(l=r.find((function(e){return"new"===e.type})))&&(c.image={base64Img:l.src,fileName:l.filename}):c.image=null,i&&(c.taggedUser={name:i.name,alias:i.alias}),e.next=6,s.Z.patchRepliesApi.patch("/reply/".concat(n),c);case 6:return d=e.sent,p=d.data,e.abrupt("return",(0,u.zh)(p));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=(0,i.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.patchRepliesApi.delete("/reply/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},80045:function(e,t,n){"use strict";function a(e){return(new DOMParser).parseFromString(e,"text/html").documentElement.textContent}n.d(t,{Z:function(){return a}})},28145:function(e,t,n){"use strict";function a(e){return encodeURIComponent(e).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A")}n.d(t,{AK:function(){return c},m4:function(){return s},RS:function(){return l},Gd:function(){return u},Zl:function(){return i},L:function(){return d}});var r=(0,n(93754).Z)(),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"web";return encodeURIComponent("?utm_source=".concat(e,"&utm_medium=").concat(t,"&utm_campaign=share"))},i=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"web";return"".concat(r.URLS.ORIGIN).concat(e).concat(o(t,n))},c=function(e,t,n){return"mailto:?subject=".concat(a(t),"&body=").concat(a(n),"%0D%0A%0D%0A").concat(i(e,"shared-email","email"))},s=function(e){return"https://www.facebook.com/sharer/sharer.php?u=".concat(i(e,"facebook"))},l=function(e){return"https://www.linkedin.com/shareArticle?mini=true&url=".concat(i(e,"linkedin"))},u=function(e,t){return"http://www.reddit.com/submit?title=".concat(a(t),"&url=").concat(i(e,"reddit"))},d=function(e,t){return"https://twitter.com/intent/tweet?text=".concat(a(t),"&url=").concat(i(e,"twitter"))}},38868:function(e){e.exports={ActionBar__BarLeft:"styles_ActionBar__BarLeft__22aXT"}},849:function(e){e.exports={ActionBar__BarRight:"styles_ActionBar__BarRight__JRHWH"}},75217:function(e){e.exports={Button:"styles_Button__n2EUZ",Button__Button:"styles_Button__Button__3p4CU","Button__Button--flag":"styles_Button__Button--flag__2QYVf",Button__Icon:"styles_Button__Icon__2W97j","Button__Icon--Is-Inactive":"styles_Button__Icon--Is-Inactive__22vYO","Button__Icon--Is-Active":"styles_Button__Icon--Is-Active__37dG5",iconPop:"styles_iconPop__2zqC6",bubble:"styles_bubble__3IhZR",particles:"styles_particles__1-1zz"}},52846:function(e){e.exports={FlagItem__link:"styles_FlagItem__link__xiqVo","FlagItem__link--active":"styles_FlagItem__link--active__20yBX","FlagItem__link--displayCount":"styles_FlagItem__link--displayCount__31Sk2"}},90705:function(e){e.exports={FlagMenu:"styles_FlagMenu__2UClf",FlagMenu__label:"styles_FlagMenu__label__2oE39"}},48053:function(e){e.exports={OptionsMenu:"styles_OptionsMenu__3pmPL",OptionsMenu__link:"styles_OptionsMenu__link__1654m","OptionsMenu__link--promote":"styles_OptionsMenu__link--promote__3KWBx","OptionsMenu__link--toggle":"styles_OptionsMenu__link--toggle__3P3cO","OptionsMenu__link--indented":"styles_OptionsMenu__link--indented__1x2kK","OptionsMenu__link--indentedText":"styles_OptionsMenu__link--indentedText__L9DhC",OptionsMenu__label:"styles_OptionsMenu__label__3z2OI",OptionsMenu__displayName:"styles_OptionsMenu__displayName__e6rQI",OptionsMenu__Button:"styles_OptionsMenu__Button__2Ukl6","OptionsMenu__Button--options":"styles_OptionsMenu__Button--options__23hJn","OptionsMenu__Button--flag":"styles_OptionsMenu__Button--flag__1E9lz",OptionsMenu__Icon:"styles_OptionsMenu__Icon__2nTvB"}},45012:function(e){e.exports={ShareDropdown:"styles_ShareDropdown__2Du1F",ShareLink:"styles_ShareLink__3jyJW",ShareLink__icon:"styles_ShareLink__icon__o68ku","ShareLink--default":"styles_ShareLink--default__2IX-z","ShareLink--facebook":"styles_ShareLink--facebook__11pN9","ShareLink--linkedin":"styles_ShareLink--linkedin__r255P","ShareLink--reddit":"styles_ShareLink--reddit__2xykC","ShareLink--twitter":"styles_ShareLink--twitter__26iqC"}},52848:function(e){e.exports={ActionBar:"styles_ActionBar__2VH98"}},20385:function(e){e.exports={ActionBar:"Button_ActionBar__A_Wst","ActionBar--flag":"Button_ActionBar--flag__hSeTQ",ActionBar__Button:"Button_ActionBar__Button__K1SVB","ActionBar__Button--flag":"Button_ActionBar__Button--flag__2AxFC","ActionBar__Button--options":"Button_ActionBar__Button--options__LhW4k","ActionBar__Button--interested":"Button_ActionBar__Button--interested__3UidD","ActionBar__Button--reply":"Button_ActionBar__Button--reply__1lanJ","ActionBar__Button--share":"Button_ActionBar__Button--share__3I3Re","ActionBar__Button--thank":"Button_ActionBar__Button--thank__XnGUN",ActionBar__Label:"Button_ActionBar__Label__2BXDN",ActionBar__Icon:"Button_ActionBar__Icon__1vO2M","ActionBar__Icon--Is-Inactive-Flag-Button":"Button_ActionBar__Icon--Is-Inactive-Flag-Button__1xq98","ActionBar__Icon--Is-Active":"Button_ActionBar__Icon--Is-Active__1Q9C6",iconPop:"Button_iconPop__3CpS1",bubble:"Button_bubble__2Wqxe",particles:"Button_particles__1D_3E"}},44842:function(e){e.exports={Card__Content:"styles_Card__Content__3173x"}},25836:function(e){e.exports={Card__LabelDivider:"styles_Card__LabelDivider__GcNQh"}},55461:function(e){e.exports={Card__TextContentWrapper:"styles_Card__TextContentWrapper__t8XqL","Card__TextContentWrapper--Condensed":"styles_Card__TextContentWrapper--Condensed__1lJ_n"}},43479:function(e){e.exports={Card__Thumbnail:"styles_Card__Thumbnail__1-_Rw",Card__ThumbnailImage:"styles_Card__ThumbnailImage__2aX1C"}},53579:function(e){e.exports={Badge:"styles_Badge__w3v27",Badges:"styles_Badges__3WFfa","Badges--large":"styles_Badges--large__3ge6e","Badges--small":"styles_Badges--small__gw-80"}}}]);