(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3930],{31266:function(e,t,n){"use strict";var a=n(85893),r=n(26265),A=n(809),s=n.n(A),i=n(92447),o=n(67294),u=n(94184),c=n.n(u),l=n(62656),g=n(75658),d=n.n(g),E=n(85235);t.Z=function(e){var t=e.disabled,n=e.existingImageCount,A=e.multiple,u=e.onChange,g=(0,o.useRef)(null),p=function(){var e=(0,i.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,E.Z)(t.target.files,n,u),(0,l.Z)("click","image_upload","add_image"),g.current&&(g.current.value="");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,a.jsxs)("label",{className:c()([d().AddImageButton,(0,r.Z)({},d()["AddImageButton--isDisabled"],t)]),children:[(0,a.jsx)("input",{accept:"image/jpeg, image/png",className:d().AddImageButton__input,disabled:t,multiple:A,onChange:p,ref:g,type:"file"}),(0,a.jsx)("i",{className:"fa fa-camera-alt icon icon--space-right"}),"Add image"]})}},50802:function(e,t,n){"use strict";var a=n(85893),r=n(94184),A=n.n(r),s=n(67294),i=n(42788),o=n(47665),u=n(24604),c=n(41989);t.Z=function(e){var t=e.name,n=e.maxLength,r=e.placeholder,l=e.rows,g=void 0===l?1:l,d=e.value,E=e.className,p=e.onBlur,m=e.onChange,f=e.onFocus,h=e.onKeyUp,B=e.inputPrepend,Q=void 0===B?null:B,_=e.inputAppend,x=void 0===_?null:_,v=e.hasError,I=void 0!==v&&v,y=e.errorMessage,w=void 0===y?null:y,b=e.outlined,j=void 0!==b&&b,C=e.noBorder,Z=void 0!==C&&C,M=(0,s.useRef)(null),T=(0,s.useState)(g),P=T[0],N=T[1],O=(0,s.useState)(!1),D=O[0],k=O[1];return(0,s.useEffect)((function(){if(d.length){var e=M.current;(e?e.scrollHeight>e.clientHeight:void 0)&&N(P+1)}else N(g)}),[g,P,d]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(u.Z,{hasError:I,hasFocus:D,outlined:j,noBorder:Z,children:[Q&&(0,a.jsx)(c.Z,{children:Q}),(0,a.jsx)("textarea",{ref:M,className:A()(["text-field__input",E]),maxLength:n,name:t,placeholder:r,rows:P,value:d,onBlur:function(e){k(!1),p&&p(e)},onFocus:function(e){k(!0),f&&f(e)},onChange:m,onKeyUp:h}),x&&(0,a.jsx)(i.Z,{children:x})]}),w&&(0,a.jsx)(o.Z,{children:w})]})}},3606:function(e,t,n){"use strict";n.d(t,{Z:function(){return E}});var a=n(85893),r=n(52019),A=n(27109),s=n.n(A),i=n(809),o=n.n(i),u=n(92447),c=n(80565),l=n.n(c),g=n(85235),d=function(e){var t=e.existingImageCount,n=e.onChange,r=function(){var e=(0,u.Z)(o().mark((function e(a){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.target.files&&(0,g.Z)(a.target.files,t,n);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,a.jsxs)("label",{className:l().AddImageCTA__Wrapper,children:[(0,a.jsx)("input",{accept:"image/jpeg, image/png",className:l().AddImageCTA__Input,disabled:!1,multiple:!0,onChange:r,type:"file"}),(0,a.jsxs)("span",{className:l().AddImageCTA__Label,children:[(0,a.jsx)("i",{className:"fa fa-camera-alt ".concat(l().AddImageCTA__Icon)}),"Add image"]})]})},E=function(e){var t=e.addImages,n=e.handleRemoveImage,A=e.images,i=e.canAddImages;return(0,a.jsxs)("div",{className:s().ImageManager,children:[A.map((function(e,t){return(0,a.jsxs)("figure",{className:s().ImageManager__item,children:[(0,a.jsx)(r.ZP,{alt:"Image to upload ".concat(t),className:s().ImageManager__image,src:e.src}),(0,a.jsx)("button",{className:s().ImageManager__btn,onClick:function(){return n(e.src)},type:"button",children:(0,a.jsx)("i",{className:"fa fa-times-fal"})})]},e.src)})),A.length>0&&i&&t&&(0,a.jsx)(d,{onChange:t,existingImageCount:A.length})]})}},88977:function(e,t,n){"use strict";var a=n(85893),r=n(26265),A=n(94184),s=n.n(A),i=n(50802),o=n(82539),u=n.n(o);t.Z=function(e){var t,n=e.changeText,A=e.isEditing,o=e.isReply,c=e.name,l=e.placeholder,g=e.value;return(0,a.jsx)(i.Z,{className:s()([u().TextEditor,(t={},(0,r.Z)(t,u()["TextEditor--is-editing"],A),(0,r.Z)(t,u()["TextEditor--is-small"],o),t)]),name:c,placeholder:l,onChange:function(e){return n(e.target.value)},rows:o?4:6,value:g,noBorder:!0})}},85235:function(e,t,n){"use strict";var a=n(809),r=n.n(a),A=n(92447),s=n(84067),i=n(92618),o=function(){var e=(0,A.Z)(r().mark((function e(t,n,a){var A,o,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A=n+t.length,o=5-n,e.next=4,(0,s.Z)(t);case 4:u=e.sent;try{A>5&&((0,i.Z)({dismiss:{duration:6500},message:"You can only upload five images to a Neighbor Post",type:"warning"}),A>5&&u.length>0&&(u.length=o)),a(u)}catch(r){(0,i.Z)({message:"Failed to upload image",type:"danger"})}case 6:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}();t.Z=o},84067:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var a=n(809),r=n.n(a),A=n(92447),s=n(26265),i=n(86120);function o(e){return new Promise((function(t,n){var a=new FileReader;a.onload=function(n){return t({name:e.name,src:n.target.result})},a.onerror=function(e){return n(e)},a.readAsDataURL(e)}))}function u(e){return c.apply(this,arguments)}function c(){return(c=(0,A.Z)(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(Array.from(t).map((function(e){return o(e)}))));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e,t){var n=new Image;return new Promise((function(a,r){n.onload=function(){return a(n)},n.onerror=function(e){return r(e)},n.src=t,n.dataset.name=e}))}var g=1200;function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e){return m.apply(this,arguments)}function m(){return(m=(0,A.Z)(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(t);case 2:return n=e.sent,e.abrupt("return",Promise.all(n.map((function(e){return l(e.name,e.src)}))));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g,a=n<e?n:e,r=n<t?n:t;return e>t?{width:a,height:t*(a/e)}:t>e?{width:e*(r/t),height:r}:{width:a,height:r}}function h(e){var t=1;return i.getData(e,(function(){t=i.getTag(e,"Orientation")})),t}function B(e,t,n){var a={translate:{x:0,y:0},scale:{x:1,y:1},rotate:{angle:0}};switch(n){case 2:return E(E({},a),{},{translate:E(E({},a.translate),{},{x:e}),scale:E(E({},a.scale),{},{x:-1})});case 3:return E(E({},a),{},{translate:{x:e,y:t},rotate:{angle:Math.PI}});case 4:return E(E({},a),{},{translate:E(E({},a.translate),{},{y:t}),scale:E(E({},a.scale),{},{y:-1})});case 5:return E(E({},a),{},{scale:E(E({},a.scale),{},{x:-1}),rotate:{angle:90*Math.PI/180}});case 6:return E(E({},a),{},{translate:E(E({},a.translate),{},{x:e}),rotate:{angle:90*Math.PI/180}});case 7:return E(E({},a),{},{translate:{x:e,y:t},rotate:{angle:90*Math.PI/180},scale:E(E({},a.scale),{},{y:-1})});case 8:return E(E({},a),{},{translate:E(E({},a.translate),{},{y:t}),rotate:{angle:-90*Math.PI/180}});default:return a}}function Q(){return _.apply(this,arguments)}function _(){return(_=(0,A.Z)(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==",e.next=3,l("test.jpg","data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==");case 3:return t=e.sent,e.abrupt("return",1===t.width&&2===t.height);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var x=function(e){return e.toLowerCase().indexOf(".png")>-1?"image/png":"image/jpeg"},v=function(){var e=(0,A.Z)(r().mark((function e(t){var n,a,A,s,i,o,u,c,l=arguments;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=l.length>1&&void 0!==l[1]?l[1]:{},a=n.maxSize,A=void 0===a?g:a,s=document.createElement("canvas"),i=s.getContext("2d")){e.next=5;break}throw new Error("canvas can not created");case 5:return e.next=7,p(t);case 7:return o=e.sent,e.next=10,Q();case 10:if(!e.sent){e.next=14;break}return u=o.map((function(e){var t=f(e.width,e.height,A),n=t.width,a=t.height;s.setAttribute("width","".concat(n,"px")),s.setAttribute("height","".concat(a,"px")),i.drawImage(e,0,0,n,a);var r=e.dataset.name,o=x(r);return{blob:s.toDataURL(o),filename:r}})),e.abrupt("return",u);case 14:return c=o.map((function(e){var t=h(e),n=f(t>4?e.height:e.width,t>4?e.width:e.height,A),a=n.width,r=n.height;s.setAttribute("width","".concat(a,"px")),s.setAttribute("height","".concat(r,"px"));var o=B(a,r,t),u=o.translate,c=o.scale,l=o.rotate;i.translate(u.x,u.y),i.scale(c.x,c.y),i.rotate(l.angle),t>4?i.drawImage(e,0,0,r,a):i.drawImage(e,0,0,a,r);var g=e.dataset.name,d=x(g);return{blob:s.toDataURL(d),filename:g}})),e.abrupt("return",c);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},75658:function(e){e.exports={AddImageButton:"styles_AddImageButton__1meJr","AddImageButton--isDisabled":"styles_AddImageButton--isDisabled__heMvC",AddImageButton__input:"styles_AddImageButton__input__1O1hu"}},80565:function(e){e.exports={AddImageCTA__Wrapper:"styles_AddImageCTA__Wrapper__rhWqs",AddImageCTA__Label:"styles_AddImageCTA__Label__2uM6w",AddImageCTA__Input:"styles_AddImageCTA__Input__2bqJ5",AddImageCTA__Icon:"styles_AddImageCTA__Icon__dg8oW"}},27109:function(e){e.exports={ImageManager:"styles_ImageManager__1-nON",ImageManager__item:"styles_ImageManager__item__1SWp-",ImageManager__image:"styles_ImageManager__image__Sl_sH",ImageManager__btn:"styles_ImageManager__btn__1yH98"}},82539:function(e){e.exports={TextEditor:"styles_TextEditor__l92NA","TextEditor--is-editing":"styles_TextEditor--is-editing__GrQTN","TextEditor--is-small":"styles_TextEditor--is-small__36ivx"}}}]);